<!DOCTYPE html>
<html lang="en" id="head">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>EPShare Rides</title>
  <link href="./bulma.min.css" rel="stylesheet" type="text/css" />
  <link href="./style.css" rel="stylesheet" type="text/css" />
  <script src="https://kit.fontawesome.com/16ae8e710d.js" crossorigin="anonymous"></script>
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <main>
    <section class="hero is-fullheight">
      <!-- Hero head: will stick at the top -->
      <div class="hero-head">
        <header class="navbar">
          <div class="container">
            <div class="navbar-brand">
              <a class="navbar-item">
                <img src="EPS Logo - Transparent-4.png" alt="Logo">
                <h1 class="title is-3" style="margin-left: 10px">EPShare Rides
                </h1>
              </a>
              <span class="navbar-burger " data-target="navbarMenuHeroC" id="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
              </span>
            </div>
            <div id="navbarMenuHeroC" class="navbar-menu ">
              <div class="navbar-end">
                <div class="is-button is-link">
                  <div class="navbar-item">
                    <span style="font-size: 1em; color: #30B700; float: right">
                      <a class="fa-solid fa-leaf" href="/sustainabilityStatement" style="color: #30B700"></a>
                    </span>
                    <div class="buttons" style="margin: 10px;margin-right: 0px;">
                      <a class="button is-link is-outlined " href="/logout">
                        Log out
                      </a>
                      <div class="navbar-item has-dropdown is-hoverable "
                        onclick="document.getElementById('navbar-dropdown').style.visibility = 'visible';">
                        <a class="button is-link" id="name_button"
                          style="background: linear-gradient(105deg, #3273DC, #275CBF);">
                          <%= firstName %>
                            <%= lastName %>
                              <i style="margin-left: 5px;" class="fas fa-angle-down" aria-hidden="true"></i>
                        </a>
                        <div id="filler"
                          style="width: 130px; background-color: transparent; height: 20px; position: absolute; margin-top: -15px;">
                        </div>
                        <div class="navbar-dropdown" id="navbar-dropdown">
                          <a class="navbar-item" href="/updateSettings">
                            Update settings
                          </a>
                          <a class="navbar-item" href="https://forms.office.com/r/deCSjA7bCR">
                            Report a bug
                          </a>
                          <a class="navbar-item" href="/sustainabilityStatement">
                            Sustainability statement
                          </a>
                          <hr class="navbar-divider">
                          <div class="navbar-item">
                            Version Beta 0.1.0
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </header>
      </div>
      <!-- Hero content: will be in the middle -->
      <div class="hero-body" style="padding-bottom: 80px;">
        <div class="container" style="margin-top: 0px; width: 100%; ">
          <div id="create_event" style="margin-bottom: 0px">
          </div>
          <div class=" " style="position: absolute; margin-top: -40px;  width: 100%; ">
            <label for="filter">Filter by: </label>
            <select name="filter" id="filter">
              <option value="all">All</option>
              <option value="sports">Sports</option>
              <option value="academic teams">Academic teams</option>
              <option value="socials">Socials</option>
              <option value="other">Other</option>
            </select>
            
            <span id="createEventButton">
              <% if (admin) { %>
<button id="buttonzx" onclick="var create_event = document.getElementById('create_event'); create_event.style.marginBottom='50px'; create_event.innerHTML = `<form>
   <label for='name'>Event name:</label>
   <input type='text' id='ename' name='name'>
   <label for='location'>Location name: </label>
   <input type='text' id='elocation' name='location'>
   <label for='address'>Address: </label>
   <div class = 'autocomplete-container ' id=''>
      <div class='control' id='autocomplete-container3' >
      </div>
   </div>
   <label for='date  '>Date and time:</label>
   <input type='datetime-local' id='edate' name='date'>
   <label for='category'>Category: </label>
   <select name='category' id='ecategory'>
   <option value='sports'>Sports</option>
   <option value='academic teams'>Academic teams</option>
   <option value='socials'>Socials</option>
   <option value='other'>Other</option>
   </select>
   <input type='submit' onclick='createevent()'>
   </form>`
   runAddressAutocomplete()">Create event (admin only)</button>
  <script src="./scripts/index_script_1.js"></script>
                <% } %>
            </span>
          </div>
          <!--Start here  -->
          <div id="eventsJS">
          </div>
        </div>
      </div>

      <!-- Hero footer: will stick at the bottom -->
      <div class="hero-foot">
        <nav class="tabs is-boxed is-fullwidth">
          <div class="container">
            <ul>
              <li class="is-active"><a href="/" class="is-active1">Upcoming Events</a></li>
              <li><a href="/mycarpools" class="white">My Carpools</a></li>
              <li><a href="/friends" class="white">Friends</a></li>
            </ul>
          </div>
        </nav>
      </div>
    </section>
  </main>
  <!-- start here -->
  <div class="modal " id="modal-js-example">
    <div class="modal-background" style="background-color: rgba(10,10,10,.50)"></div>
    <div class="modal-card">
      <p class="panel-heading has-text-centered" style="padding: 15px; padding-left: 20px; display: table">
        <span style=" display: table-cell;vertical-align: middle; text-align: center; position:absolute">
          <i class="fa-solid fa-car-side" style='float:left; transform:translate(0px,5px)'></i>
        </span>
        Offer to Carpool
        <button class="delete" aria-label="close" onclick="closeAllModals()" style="float: right"></button>
      </p>
      <section class="modal-card-body">
        <div class="container">
          <label>Carpool information </label>
          <div class="field">
            <a class="panel-block" id="carpoolinfo" style="border-radius: 5px; padding:0px;">
              <input style="margin-right: 10px; " id="fname" class="input" type="fname" placeholder="Driver first name">
              <input id="lname" class="input" type="lname" placeholder="Driver last name">
            </a>
          </div>
          <input class="input" id="seats" type="number" min="1" max="9" placeholder="Number of available car seats"
            style=" margin-top: -5px; margin-bottom: 10px; ">
          <label>Type of route </label>
          <div class="field" style="margin-bottom: 10px;">
            <div class="control">
              <div class="select" style="margin-right: 10px; ">
                <form>
                  <select id="route-type">
                    <option value="route">Home to home</option>
                    <option value="point">Common meeting point</option>
                  </select>
                </form>
              </div>
            </div>
          </div>
          <div class="field">
            <label id="address-label">Your home address</label>
            <div class="autocomplete-container" id="">
              <div class="control" id="autocomplete-container">
                <div class="clear-button"></div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <footer class="modal-card-foot" style="background-color: white; border-width: 1px; padding: 10px; ">
        <div class="buttons" style="margin-left: 0px;">
          <button class="button is-link " style="background: linear-gradient(105deg, #3273DC, #275CBF);"
            onclick="offer();window.location.href='/mycarpools'">Create carpool</button>
          <button class="button" aria-label="close" onclick="closeAllModals()">Cancel</button>
        </div>
      </footer>
    </div>
  </div>
  <!-- end here -->
  <!-- start here -->
  <div class="modal " id="modal-js-register">
    <div class="modal-background" style="background-color: rgba(10,10,10,.50)"></div>
    <div class="modal-card">
      <p class="panel-heading has-text-centered" style="padding: 15px; display: table;padding-left: 20px">
        <span style=" display: table-cell;vertical-align: middle; text-align: center;">
          <i class="fa-solid fa-users" style='float:left; position: absolute; transform: translate(0px, -10px)'></i>
        </span>
        Register to a Carpool
        <button class="delete" aria-label="close" onclick="closeAllModals()" style="float: right"></button>
      </p>
      <section class="modal-card-body">
        <div class="container">
          <label id="registerTitle"></label>

          <div style="overflow: auto;">
            <div id="registerJS">
              <!-- <div class="notification" style="padding: 10px;   margin-bottom: 10px;">
                           <div class="button  selectCarpool" style=" margin-left: 10px; margin-top: 4px; background-color: transparent; float: right" onclick=" if (this.classList[2] == 'is-focused') {unfocus()} else {unfocus(); this.classList.add('is-focused')}">Select</div>
                                   <div style="float: right; margin-top: 3px;"  >2/6 signed up</div>
                                                             Organizer: <a style="color: #3273dc" href="mailto:ajosan@eastsideprep.org">ajosan@eastsideprep.org</a>
                                     <br>  Route type: Home to home
                           <br> 
                                 </div>    -->
            </div>
          </div>
        </div>
        <div class="field">
          <label>Your home address </label>
          <div class="autocomplete-container " id="">
            <div class='control' id="autocomplete-container2">
              <!-- South Kirkland Park and Ride, Bellevue, WA 98004, United States of America -->
            </div>
          </div>
        </div>
      </section>
      <footer class="modal-card-foot" style="background-color: white; border-width: 1px; padding: 10px; ">
        <var></var>
        <div class="buttons" style="margin-left: 0px;">
          <button class="button is-link " style="background: linear-gradient(105deg, #3273DC, #275CBF);"
            onclick="joinCarpool(); window.location.href='/mycarpools'">Join carpool</button>
          <button class="button" aria-label="close" onclick="closeAllModals()">Cancel</button>
        </div>
      </footer>
    </div>
  </div>
  <!-- end here -->
  <script src="./scripts/index_script_2.js"></script>
  <script>
    document.getElementById("eventsJS").innerHTML +=
      '';

    function myTimer(i) {
      let control = document.getElementsByClassName("control");
      for (let i = 0; i < control.length; i++) {

        control[i].style.color = "white"
      }
      let button = document.getElementsByClassName("button");
      for (let i = 0; i < button.length; i++) {
        button[i].style.color = "#ffffff";
        button[i].style.background = "#3c3c3c";
        button[i].style.border = "#bcae98";
      }
      clearInterval(myTimer);
    }
  </script>
  <script defer>
    function navBurger() {
      var burger = document.getElementById('nav-toggle');
      var menu = document.getElementById('navbarMenuHeroC');
      burger.addEventListener('click', function () {
        burger.classList.toggle('is-active');
        menu.classList.toggle('is-active');
      });
    }
    navBurger()


  </script>
</body>

</html>